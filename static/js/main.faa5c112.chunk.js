(this["webpackJsonpspotify-syncer"]=this["webpackJsonpspotify-syncer"]||[]).push([[0],{106:function(e,t,n){},107:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),s=n(34),a=n.n(s),r=(n(96),n.p,n(97),n(11)),l=n(122),o=n(48),j=n(81),d=n.n(j),u=(n(98),n(50)),b=n(5),O=n(123),f=n(2),h=function(e){var t=Object(c.useState)(),n=Object(r.a)(t,2),i=(n[0],n[1]),s=Object(c.useState)([]),a=Object(r.a)(s,2),o=a[0],j=a[1],d=Object(c.useState)(),u=Object(r.a)(d,2),b=u[0],h=u[1],p=Object(c.useState)([]),x=Object(r.a)(p,2),m=x[0],y=x[1],g=Object(c.useState)(""),v=Object(r.a)(g,2),k=v[0],S=v[1];Object(c.useEffect)((function(){C(),e.api.getMe().then((function(e){return i(e.id)}))}),[]),Object(c.useEffect)((function(){if(o){var e=o.map((function(e){return Object(f.jsxs)(l.a,{style:{background:e.id==k?"green":"white"},onClick:function(){return w(e.id)},children:[e.name," - ",e.tracks.total]})}));h(e)}}),[o,k]);var C=function(){e.api.getUserPlaylists({limit:50}).then((function(e){return j(e.items)})),e.api.getUserPlaylists({limit:50}).then((function(e){return console.log(e.items)}))},w=function(t){var n=o.find((function(e){return e.id==t}));console.log("LOADTRACK - "+n.name),S(n.id),e.api.getPlaylistTracks(n.id).then((function(e){return y(e.items)}))};return Object(f.jsxs)("div",{className:"Page",children:[Object(f.jsx)("h1",{children:"Playlists"}),b,Object(f.jsxs)(O.a,{structured:!0,children:[Object(f.jsx)(O.a.Header,{children:Object(f.jsxs)(O.a.Row,{children:[Object(f.jsx)(O.a.HeaderCell,{children:"Name"}),Object(f.jsx)(O.a.HeaderCell,{children:"Artist"}),Object(f.jsx)(O.a.HeaderCell,{children:"Album"}),Object(f.jsx)(O.a.HeaderCell,{children:"Date Added"})]})}),Object(f.jsx)(O.a.Body,{children:m.map((function(e){return Object(f.jsxs)(O.a.Row,{children:[Object(f.jsx)(O.a.Cell,{children:e.track.name}),Object(f.jsx)(O.a.Cell,{children:e.track.artists[0].name}),Object(f.jsx)(O.a.Cell,{children:e.track.album.name}),Object(f.jsx)(O.a.Cell,{children:e.added_at})]})}))})]}),Object(f.jsx)("div",{style:{textAlign:"left"}})]})},p=n(124),x=(n(106),function(e){var t=Object(c.useState)([]),n=Object(r.a)(t,2),i=n[0],s=n[1],a=Object(c.useState)([]),l=Object(r.a)(a,2),o=l[0],j=l[1],d=Object(c.useState)(!0),u=Object(r.a)(d,2),b=u[0],O=u[1];return Object(c.useEffect)((function(){console.log("initial"),e.api.getMyTopArtists().then((function(e){return s(e.items)})),e.api.getMyTopTracks().then((function(e){return j(e.items)}))}),[]),Object(f.jsxs)("div",{className:"Page",children:[Object(f.jsxs)("div",{style:{justifyContent:"center",textAlign:"center"},children:["Top Artists ",Object(f.jsx)(p.a,{slider:!0,style:{},onChange:function(){return O(!b)}})," Top Tracks"]}),b?i.map((function(e,t){return Object(f.jsxs)("p",{style:{fontSize:60-2.5*t,margin:0,padding:0},children:[t+1,". ",e.name]})})):o.map((function(e,t){return Object(f.jsxs)("p",{style:{fontSize:60-2.5*t,margin:0,padding:0},children:[t+1,". ",e.name]})}))]})}),m=new d.a,y=function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),i=n[0],s=n[1];Object(c.useEffect)((function(){m.setAccessToken(e.tok),m.getMe().then((function(e){return s(e.display_name)}))}),[]);return Object(f.jsx)(u.a,{children:Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"Menu",children:[Object(f.jsx)(u.b,{to:"/",children:Object(f.jsx)("h2",{style:{float:"left",margin:"0 1em",color:"#1DB954"},children:i})}),Object(f.jsx)(u.b,{to:"/playlists",children:Object(f.jsx)(l.a,{inverted:!0,style:{float:"left",margin:"0"},children:"Playlists"})}),Object(f.jsx)(u.b,{to:"/top",children:Object(f.jsx)(l.a,{inverted:!0,children:"Top"})}),Object(f.jsx)(u.b,{to:"/",children:Object(f.jsx)(l.a,{onClick:function(){e.setToken(""),window.localStorage.removeItem("token")},style:{float:"right",margin:"0"},children:"Logout"})})]}),Object(f.jsxs)(b.c,{children:[Object(f.jsx)(b.a,{path:"/",element:null}),Object(f.jsx)(b.a,{path:"/playlists",element:Object(f.jsx)(h,{api:m})}),Object(f.jsx)(b.a,{path:"/top",element:Object(f.jsx)(x,{api:m})})]})]})})},g=(n(107),function(e){var t=Object(c.useState)(""),n=Object(r.a)(t,2),i=n[0],s=n[1],a=["user-top-read","user-read-private","user-library-modify","playlist-modify-public","playlist-modify-private","playlist-read-private","user-read-playback-state","user-read-currently-playing"];return Object(c.useEffect)((function(){var e=window.location.hash,t=window.localStorage.getItem("token");!t&&e&&(t=e.substring(1).split("&").find((function(e){return e.startsWith("access_token")})).split("=")[1]),s(t)}),[]),console.log(a),i?Object(f.jsx)(y,{setToken:s,tok:i}):Object(f.jsxs)("div",{className:"Login",children:[Object(f.jsx)("h1",{children:"Spotify Sync"}),Object(f.jsx)("p",{children:"A tool to improve playlist workflow"}),Object(f.jsx)("a",{href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("17408cc434f747328134b49f33eb23f9","&redirect_uri=").concat("http://localhost:3000","&scope=").concat(a.join("%20"),"&response_type=").concat("token"),children:Object(f.jsxs)(l.a,{style:{color:"#1DB954"},children:[Object(f.jsx)(o.a,{name:"spotify"}),"Login to Spotify"]})})]})});var v=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("h1",{children:"Hi"}),Object(f.jsx)(g,{className:"Login"})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,126)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),s(e),a(e)}))};n(108);a.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(v,{})}),document.getElementById("root")),k()},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){}},[[109,1,2]]]);
//# sourceMappingURL=main.faa5c112.chunk.js.map