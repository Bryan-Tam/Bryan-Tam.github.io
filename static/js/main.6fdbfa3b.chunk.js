(this["webpackJsonpspotify-syncer"]=this["webpackJsonpspotify-syncer"]||[]).push([[0],{100:function(e,t,n){"use strict";n.p},101:function(e,t,n){},102:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),s=n(34),a=n.n(s),r=(n(98),n(81)),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,130)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),s(e),a(e)}))},l=(n(112),n(2));a.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(r.a,{})}),document.getElementById("root")),o()},81:function(e,t,n){"use strict";(function(e){n(100),n(101),n(0);var c=n(85),i=n(2);t.a=function(){return console.log(e),Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(c.a,{className:"Login"})})}}).call(this,n(99))},85:function(e,t,n){"use strict";var c=n(11),i=n(0),s=n(126),a=n(48),r=n(82),o=n.n(r),l=(n(102),n(50)),j=n(5),u=n(127),d=n(2),b=function(e){var t=Object(i.useState)(),n=Object(c.a)(t,2),a=(n[0],n[1]),r=Object(i.useState)([]),o=Object(c.a)(r,2),l=o[0],j=o[1],b=Object(i.useState)(),f=Object(c.a)(b,2),O=f[0],h=f[1],p=Object(i.useState)([]),x=Object(c.a)(p,2),m=x[0],y=x[1],g=Object(i.useState)(""),v=Object(c.a)(g,2),k=v[0],S=v[1];Object(i.useEffect)((function(){w(),e.api.getMe().then((function(e){return a(e.id)}))}),[]),Object(i.useEffect)((function(){if(l){var e=l.map((function(e){return Object(d.jsxs)(s.a,{style:{background:e.id==k?"green":"white"},onClick:function(){return C(e.id)},children:[e.name," - ",e.tracks.total]})}));h(e)}}),[l,k]);var w=function(){e.api.getUserPlaylists({limit:50}).then((function(e){return j(e.items)})),e.api.getUserPlaylists({limit:50}).then((function(e){return console.log(e.items)}))},C=function(t){var n=l.find((function(e){return e.id==t}));console.log("LOADTRACK - "+n.name),S(n.id),e.api.getPlaylistTracks(n.id).then((function(e){return y(e.items)}))};return Object(d.jsxs)("div",{className:"Page",children:[Object(d.jsx)("h1",{children:"Playlists"}),O,Object(d.jsxs)(u.a,{structured:!0,children:[Object(d.jsx)(u.a.Header,{children:Object(d.jsxs)(u.a.Row,{children:[Object(d.jsx)(u.a.HeaderCell,{children:"Name"}),Object(d.jsx)(u.a.HeaderCell,{children:"Artist"}),Object(d.jsx)(u.a.HeaderCell,{children:"Album"}),Object(d.jsx)(u.a.HeaderCell,{children:"Date Added"})]})}),Object(d.jsx)(u.a.Body,{children:m.map((function(e){return Object(d.jsxs)(u.a.Row,{children:[Object(d.jsx)(u.a.Cell,{children:e.track.name}),Object(d.jsx)(u.a.Cell,{children:e.track.artists[0].name}),Object(d.jsx)(u.a.Cell,{children:e.track.album.name}),Object(d.jsx)(u.a.Cell,{children:e.added_at})]})}))})]}),Object(d.jsx)("div",{style:{textAlign:"left"}})]})},f=n(128),O=(n(110),function(e){var t=Object(i.useState)([]),n=Object(c.a)(t,2),s=n[0],a=n[1],r=Object(i.useState)([]),o=Object(c.a)(r,2),l=o[0],j=o[1],u=Object(i.useState)(!0),b=Object(c.a)(u,2),O=b[0],h=b[1];return Object(i.useEffect)((function(){console.log("initial"),e.api.getMyTopArtists().then((function(e){return a(e.items)})),e.api.getMyTopTracks().then((function(e){return j(e.items)}))}),[]),Object(d.jsxs)("div",{className:"Page",children:[Object(d.jsxs)("div",{style:{justifyContent:"center",textAlign:"center"},children:["Top Artists ",Object(d.jsx)(f.a,{slider:!0,style:{},onChange:function(){return h(!O)}})," Top Tracks"]}),O?s.map((function(e,t){return Object(d.jsxs)("p",{style:{fontSize:60-2.5*t,margin:0,padding:0},children:[t+1,". ",e.name]})})):l.map((function(e,t){return Object(d.jsxs)("p",{style:{fontSize:60-2.5*t,margin:0,padding:0},children:[t+1,". ",e.name]})}))]})}),h=new o.a,p=function(e){var t=Object(i.useState)(""),n=Object(c.a)(t,2),a=n[0],r=n[1];Object(i.useEffect)((function(){h.setAccessToken(e.tok),h.getMe().then((function(e){return r(e.display_name)}))}),[]);return Object(d.jsx)(l.a,{children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"Menu",children:[Object(d.jsx)(l.b,{to:"/",children:Object(d.jsx)("h2",{style:{float:"left",margin:"0 1em",color:"#1DB954"},children:a})}),Object(d.jsx)(l.b,{to:"/playlists",children:Object(d.jsx)(s.a,{inverted:!0,style:{float:"left",margin:"0"},children:"Playlists"})}),Object(d.jsx)(l.b,{to:"/top",children:Object(d.jsx)(s.a,{inverted:!0,children:"Top"})}),Object(d.jsx)(l.b,{to:"/",children:Object(d.jsx)(s.a,{onClick:function(){e.setToken(""),window.localStorage.removeItem("token")},style:{float:"right",margin:"0"},children:"Logout"})})]}),Object(d.jsxs)(j.c,{children:[Object(d.jsx)(j.a,{path:"/",element:null}),Object(d.jsx)(j.a,{path:"/playlists",element:Object(d.jsx)(b,{api:h})}),Object(d.jsx)(j.a,{path:"/top",element:Object(d.jsx)(O,{api:h})})]})]})})};n(111),t.a=function(e){var t=Object(i.useState)(""),n=Object(c.a)(t,2),r=n[0],o=n[1],l=["user-top-read","user-read-private","user-library-modify","playlist-modify-public","playlist-modify-private","playlist-read-private","user-read-playback-state","user-read-currently-playing"];return Object(i.useEffect)((function(){var e=window.location.hash,t=window.localStorage.getItem("token");!t&&e&&(t=e.substring(1).split("&").find((function(e){return e.startsWith("access_token")})).split("=")[1],window.location.hash="",window.localStorage.setItem("token",t)),o(t)}),[]),console.log(l),r?Object(d.jsx)(p,{setToken:o,tok:r}):Object(d.jsxs)("div",{className:"Login",children:[Object(d.jsx)("h1",{children:"Spotify Sync"}),Object(d.jsx)("p",{children:"A tool to improve playlist workflow"}),Object(d.jsx)("a",{href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("17408cc434f747328134b49f33eb23f9","&redirect_uri=").concat("https://Bryan-Tam.github.io/Spotify-Syncer","&scope=").concat(l.join("%20"),"\n            &response_type=").concat("token&show_dialog=true"),children:Object(d.jsxs)(s.a,{style:{color:"#1DB954"},children:[Object(d.jsx)(a.a,{name:"spotify"}),"Login to Spotify"]})})]})}},98:function(e,t,n){}},[[113,1,2]]]);
//# sourceMappingURL=main.6fdbfa3b.chunk.js.map